package com.perscholas.poonamkajal.physicianadvisor.implementation;

import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.perscholas.poonamkajal.physicianadvisor.models.Patient;
import com.perscholas.poonamkajal.physicianadvisor.repository.PatientRepository;

@Service
public class PatientServiceImpl {

	@Autowired
	private PatientRepository patientRepository;

	public Optional<Patient> getPatientById(Long id) {
		return patientRepository.findById(id);
	}

	public void addPatient(Patient patient) {
		patientRepository.save(patient);
	}

	public void updatePatient(long id, Patient patient) {
		Optional<Patient> patientData = patientRepository.findById(id);

		if (patientData.isPresent()) {
			Patient _patient = patientData.get();
			_patient.setFirstName(patient.getFirstName());
			_patient.setLastName(patient.getLastName());
			_patient.setDob(patient.getDob());
			patientRepository.save(_patient);
		}
	}
	public void deletePatient(long id) {
	       patientRepository.deleteById(id);
	   }
	public void deleteAllPatient() {
	       patientRepository.deleteAll();
	   }



}
